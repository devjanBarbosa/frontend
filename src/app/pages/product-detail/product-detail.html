<div class="product-detail-container" *ngIf="produto; else loading">
  
  <div class="product-gallery">
    <div class="main-image-wrapper">
      <img [src]="produto.urlImagem" [alt]="produto.nome">
    </div>
    </div>

  <div class="product-info">
    <h1 class="product-title">{{ produto.nome }}</h1>
    
    <div class="price-section">
      <span class="product-price">{{ produto.preco | currency:'BRL' }}</span>
    </div>

    <div class="local-perks">
      <div class="perk-item">
        <i class="bi bi-truck"></i> <span>Entrega rápida no seu bairro!</span>
      </div>
      <div class="perk-item">
        <i class="bi bi-shop"></i> <span>Retire na loja hoje mesmo.</span>
      </div>
    </div>
    
    <div class="stock-info" *ngIf="produto.estoque > 0">
      <p><strong>Estoque disponível</strong> ({{ produto.estoque }} unidades)</p>
    </div>
    <div class="stock-info out-of-stock" *ngIf="produto.estoque === 0">
      <p><strong>Produto indisponível no momento.</strong></p>
    </div>
    
    <div class="actions">
      <button class="add-to-cart-button" (click)="adicionarAoCarrinho()" [disabled]="produto.estoque === 0">
        Adicionar ao carrinho
      </button>
      <a [href]="getWhatsappLink()" target="_blank" class="whatsapp-button">
        <i class="bi bi-whatsapp"></i> Dúvidas? Fale com a Leda
      </a>
    </div>

    <div class="description-section">
      <h2>Descrição</h2>
      <p>{{ produto.descricao }}</p>
    </div>
  </div>
</div>

<ng-template #loading>
  <p class="loading-message">A carregar produto...</p>
</ng-template>